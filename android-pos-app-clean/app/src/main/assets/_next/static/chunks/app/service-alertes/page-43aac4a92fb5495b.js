(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5581],{1843:(e,s,a)=>{Promise.resolve().then(a.bind(a,5651))},5651:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var t=a(5155),r=a(2115),i=a(6695),l=a(285),c=a(6126),n=a(9100),d=a(9801),m=a(6750),x=a(744),u=a(9730),h=a(3861),o=a(7580),j=a(646),p=a(1586);let N=[{id:"T1",capacity:4,status:"OCCUPIED",currentOrder:"ORD-001",orderTime:"12:30",amount:45.5,customers:3},{id:"T2",capacity:2,status:"OCCUPIED",currentOrder:"ORD-002",orderTime:"12:45",amount:28,customers:2},{id:"T3",capacity:6,status:"AVAILABLE",currentOrder:null,customers:0},{id:"T4",capacity:4,status:"OCCUPIED",currentOrder:"ORD-003",orderTime:"13:00",amount:67.8,customers:4,paymentRequested:!0}],g=[{id:"ORD-005",tableNumber:"T5",items:[{name:"Steak Frites",quantity:2},{name:"Salade C\xe9sar",quantity:1}],station:"kitchen",readyTime:"13:15",temperature:"HOT"},{id:"ORD-006",tableNumber:"T7",items:[{name:"Mojito",quantity:2},{name:"Coca-Cola",quantity:1}],station:"bar",readyTime:"13:18",temperature:"COLD"}];function v(){let[e,s]=(0,r.useState)(N),[a,v]=(0,r.useState)(g),{requestPayment:b,customerCall:f,connected:y}=(0,m.F)("server","server-001"),C=(e,a,t)=>{s(s=>s.map(s=>s.id===e?{...s,paymentRequested:!0}:s)),b({tableNumber:e,orderId:a,amount:t,customerName:"Table ".concat(e)})},w=(e,s)=>{f({tableNumber:e,type:s,message:"service"===s?"Service demand\xe9":"water"===s?"Eau demand\xe9e":"bill"===s?"Addition demand\xe9e":"Aide demand\xe9e"})},O=e=>{v(s=>s.filter(s=>s.id!==e))},A=e=>{switch(e){case"OCCUPIED":return"bg-green-100 text-green-800";case"AVAILABLE":default:return"bg-gray-100 text-gray-800";case"RESERVED":return"bg-blue-100 text-blue-800"}},E=e=>{switch(e){case"kitchen":return(0,t.jsx)(x.A,{className:"h-4 w-4"});case"bar":return(0,t.jsx)(u.A,{className:"h-4 w-4"});default:return(0,t.jsx)(h.A,{className:"h-4 w-4"})}},D=e=>{switch(e){case"HOT":return"bg-red-100 text-red-800";case"COLD":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Service - Alertes en temps r\xe9el"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Gestion des tables et notifications"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(c.E,{variant:y?"default":"destructive",children:y?"Connect\xe9":"D\xe9connect\xe9"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:new Date().toLocaleTimeString("fr-FR")})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(d.E,{station:"server",userId:"server-001"})}),(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[a.length>0&&(0,t.jsxs)(i.Zp,{className:"border-orange-200 bg-orange-50",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-orange-800",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),"Commandes pr\xeates (",a.length,")"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsx)(i.Zp,{className:"border-orange-300",children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[E(e.station),(0,t.jsx)("span",{className:"font-medium",children:e.id}),(0,t.jsx)(c.E,{variant:"outline",className:D(e.temperature),children:"HOT"===e.temperature?"Chaud":"Froid"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Table ",e.tableNumber]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.items.map(e=>"".concat(e.quantity,"x ").concat(e.name)).join(", ")}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Pr\xeate \xe0 ",e.readyTime]})]})]}),(0,t.jsxs)(l.$,{size:"sm",onClick:()=>O(e.id),className:"bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Servi"]})]})})},e.id))})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"\xc9tat des tables"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,t.jsx)(i.Zp,{className:"relative",children:(0,t.jsxs)(i.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg font-bold",children:e.id}),(0,t.jsx)(c.E,{variant:"outline",className:A(e.status),children:"OCCUPIED"===e.status?"Occup\xe9e":"AVAILABLE"===e.status?"Disponible":"R\xe9serv\xe9e"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.customers,"/",e.capacity]})]}),e.currentOrder&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("p",{className:"font-medium",children:["Commande: ",e.currentOrder]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Montant: â‚¬",e.amount.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Depuis: ",e.orderTime]})]}),(0,t.jsx)(n.w,{}),(0,t.jsx)("div",{className:"flex gap-2",children:e.paymentRequested?(0,t.jsxs)(c.E,{variant:"secondary",className:"flex-1 justify-center",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Paiement demand\xe9"]}):(0,t.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>C(e.id,e.currentOrder,e.amount),className:"flex-1",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Demander paiement"]})})]}),"OCCUPIED"===e.status&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Appels client:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>w(e.id,"service"),className:"text-xs h-8",children:"Service"}),(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>w(e.id,"water"),className:"text-xs h-8",children:"Eau"}),(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>w(e.id,"bill"),className:"text-xs h-8",children:"Addition"}),(0,t.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>w(e.id,"help"),className:"text-xs h-8",children:"Aide"})]})]})]})},e.id))})})]})]})]}),(0,t.jsxs)(i.Zp,{className:"mt-4",children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-lg",children:"Instructions du syst\xe8me de service"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Commandes pr\xeates"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Les alertes oranges indiquent qu'une commande est pr\xeate \xe0 \xeatre servie"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-1.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Demandes de paiement"}),(0,t.jsx)("p",{className:"text-gray-600",children:'Cliquez sur "Demander paiement" pour notifier la caisse'})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Appels client"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Utilisez les boutons d'appel pour simuler les demandes des clients"})]})]})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3455,4904,8560,7104,8441,1684,7358],()=>s(1843)),_N_E=e.O()}]);