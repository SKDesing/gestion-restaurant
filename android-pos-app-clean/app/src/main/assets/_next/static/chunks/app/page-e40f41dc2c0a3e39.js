(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{285:(e,s,a)=>{"use strict";a.d(s,{$:()=>c});var t=a(5155);a(2115);var r=a(9708),i=a(2085),n=a(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,m=c?r.DX:"button";return(0,t.jsx)(m,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:i,className:s})),...d})}},381:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2280:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]])},2486:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4738:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},4992:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},5339:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5572:(e,s,a)=>{Promise.resolve().then(a.bind(a,8747))},5607:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},5747:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},5868:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6126:(e,s,a)=>{"use strict";a.d(s,{E:()=>c});var t=a(5155);a(2115);var r=a(9708),i=a(2085),n=a(9434);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,asChild:i=!1,...c}=e,d=i?r.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:a}),s),...c})}},6308:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},6561:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},6695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>n});var t=a(5155);a(2115);var r=a(9434);function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},7313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>d,j7:()=>l,tU:()=>n});var t=a(5155);a(2115);var r=a(64),i=a(9434);function n(e){let{className:s,...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",s),...a})}},7712:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7809:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7873:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]])},8747:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>V});var t=a(5155),r=a(2115),i=a(6695),n=a(285),l=a(6126),c=a(381),d=a(5868),m=a(7580),x=a(744),o=a(646),h=a(9946);let u=(0,h.A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var p=a(1243);let g=(0,h.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var j=a(4738),v=a(2280);function y(){return(0,t.jsxs)("div",{className:"min-h-screen bg-white p-6",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-7 w-7 text-purple-700"}),"Tableau de bord G\xe9rant"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 text-green-600"}),"Chiffre d'affaires"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"1 250 €"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Aujourd'hui"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-blue-600"}),"Employ\xe9s connect\xe9s"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"7"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Actuellement"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-orange-600"}),"Commandes en cuisine"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"15"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"En cours"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 text-gray-700"}),"Tablettes actives"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"4"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Connect\xe9es"})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Derni\xe8res actions"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("ul",{className:"text-sm text-gray-700 list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:"Commande #123 valid\xe9e par le serveur"}),(0,t.jsx)("li",{children:"R\xe9ception de marchandises enregistr\xe9e"}),(0,t.jsx)("li",{children:"Nouvel employ\xe9 ajout\xe9"}),(0,t.jsx)("li",{children:"Temp\xe9rature frigo v\xe9rifi\xe9e"})]})})]})]})}var N=a(7313),f=a(1586),b=a(7873),w=a(5747),k=a(7809),A=a(7712),C=a(4616),T=a(2525),Z=a(6308),M=a(4298);function E(){let[e,s]=(0,r.useState)(null),[a,c]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[o,h]=(0,r.useState)("caisse");(0,r.useEffect)(()=>{let e=(0,M.io)("http://localhost:3001");return s(e),e.on("orderUpdate",e=>{x(s=>[e,...s.slice(0,19)])}),()=>e.close()},[]);let u=e=>{c(s=>s.find(s=>s.id===e.id)?s.map(s=>s.id===e.id?{...s,quantity:s.quantity+1}:s):[...s,{...e,quantity:1}])},p=(e,s)=>{c(a=>a.map(a=>{if(a.id===e){let e=a.quantity+s;return e>0?{...a,quantity:e}:null}return a}).filter(Boolean))},g=e=>{c(s=>s.filter(s=>s.id!==e))},j=()=>a.reduce((e,s)=>e+s.price*s.quantity,0),v=s=>{if(0===a.length)return;let t={id:Date.now().toString(),items:[...a],total:j(),status:"paid",timestamp:new Date,table:"bar"===o?"Bar":"Comptoir"};x(e=>[t,...e.slice(0,19)]),c([]),null==e||e.emit("newOrder",t),null==e||e.emit("paymentProcessed",{order:t,method:s})},y="bar"===o?[{id:"1",name:"Caf\xe9",price:2.5,category:"bar"},{id:"2",name:"Th\xe9",price:2,category:"bar"},{id:"3",name:"Jus d'orange",price:3,category:"bar"},{id:"4",name:"Bi\xe8re pression",price:4,category:"bar"},{id:"5",name:"Vin rouge",price:6,category:"bar"},{id:"6",name:"Vin blanc",price:6,category:"bar"},{id:"7",name:"Cocktail",price:8,category:"bar"},{id:"8",name:"Eau min\xe9rale",price:1.5,category:"bar"}]:[{id:"9",name:"Sandwich",price:5.5,category:"food"},{id:"10",name:"Salade",price:7,category:"food"},{id:"11",name:"Pizza part",price:4,category:"food"},{id:"12",name:"Dessert",price:4.5,category:"food"}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"bar"===o?"Bar":"Caisse Rapide"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tablette de paiement"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(l.E,{variant:"outline",className:"text-lg px-3 py-1",children:[j().toFixed(2),"€"]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(N.tU,{value:o,onValueChange:e=>h(e),children:[(0,t.jsxs)(N.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(N.Xi,{value:"caisse",className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Caisse Rapide"]}),(0,t.jsxs)(N.Xi,{value:"bar",className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Bar"]})]}),(0,t.jsx)(N.av,{value:o,className:"mt-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["bar"===o?(0,t.jsx)(b.A,{className:"h-5 w-5"}):(0,t.jsx)(w.A,{className:"h-5 w-5"}),"bar"===o?"Boissons":"Nourriture Rapide"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:y.map(e=>(0,t.jsxs)(n.$,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>u(e),children:[(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[e.price.toFixed(2),"€"]}),(0,t.jsx)("div",{className:"text-sm text-center",children:e.name})]},e.id))})})]})})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.A,{className:"h-5 w-5"}),"Panier"]})}),(0,t.jsxs)(i.Wu,{children:[0===a.length?(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"Panier vide"}):(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.price.toFixed(2),"€"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>p(e.id,-1),children:(0,t.jsx)(A.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-sm font-medium w-8 text-center",children:e.quantity}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>p(e.id,1),children:(0,t.jsx)(C.A,{className:"h-3 w-3"})}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"h-6 w-6 p-0 ml-2",onClick:()=>g(e.id),children:(0,t.jsx)(T.A,{className:"h-3 w-3"})})]})]},e.id))}),a.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total:"}),(0,t.jsxs)("span",{className:"text-xl font-bold",children:[j().toFixed(2),"€"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)(n.$,{onClick:()=>v("cash"),className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"Esp\xe8ces"]}),(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>v("card"),className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Carte"]})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-5 w-5"}),"Derni\xe8res ventes"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:0===m.length?(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucune vente"}):m.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium",children:[e.items.length," article",e.items.length>1?"s":""]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold",children:[e.total.toFixed(2),"€"]}),(0,t.jsx)(l.E,{variant:"default",className:"text-xs",children:"Pay\xe9"})]})]},e.id))})})]})]})]})]})}let S=(0,h.A)("salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);var z=a(7312),B=a(4186),q=a(5339);let D=(0,h.A)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);var P=a(2486);function R(){let[e,s]=(0,r.useState)(null),[a,c]=(0,r.useState)(null),[d,x]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[p,g]=(0,r.useState)("plats"),j={entrees:{name:"Entr\xe9es",icon:(0,t.jsx)(S,{className:"h-4 w-4"}),items:[{id:"1",name:"Salade C\xe9sar",price:8.5,category:"entrees",preparationTime:10},{id:"2",name:"Soupe du jour",price:6.5,category:"entrees",preparationTime:8},{id:"3",name:"Bruschetta",price:7,category:"entrees",preparationTime:5}]},plats:{name:"Plats principaux",icon:(0,t.jsx)(w.A,{className:"h-4 w-4"}),items:[{id:"4",name:"Steak frites",price:18,category:"plats",preparationTime:20},{id:"5",name:"P\xe2tes carbonara",price:14,category:"plats",preparationTime:15},{id:"6",name:"Pizza margherita",price:12,category:"plats",preparationTime:12},{id:"7",name:"Poulet r\xf4ti",price:16,category:"plats",preparationTime:25}]},desserts:{name:"Desserts",icon:(0,t.jsx)(z.A,{className:"h-4 w-4"}),items:[{id:"8",name:"Tiramisu",price:6,category:"desserts",preparationTime:5},{id:"9",name:"Cr\xe8me br\xfbl\xe9e",price:6.5,category:"desserts",preparationTime:5},{id:"10",name:"Mousse au chocolat",price:5.5,category:"desserts",preparationTime:3}]},boissons:{name:"Boissons",icon:(0,t.jsx)(z.A,{className:"h-4 w-4"}),items:[{id:"11",name:"Eau plate",price:2,category:"boissons",preparationTime:2},{id:"12",name:"Eau gazeuse",price:2.5,category:"boissons",preparationTime:2},{id:"13",name:"Jus d'orange",price:4,category:"boissons",preparationTime:2},{id:"14",name:"Vin rouge",price:6,category:"boissons",preparationTime:2}]}};(0,r.useEffect)(()=>{u(Array.from({length:12},(e,s)=>({number:"T".concat(s+1),status:Math.random()>.7?"occupied":"free",capacity:s<4?2:s<8?4:6,order:Math.random()>.8?{tableNumber:"T".concat(s+1),items:[],status:"served",timestamp:new Date,totalAmount:0}:void 0})));let e=(0,M.io)("http://localhost:3001");return s(e),e.on("orderStatusUpdate",e=>{u(s=>s.map(s=>s.number===e.tableNumber?{...s,order:s.order?{...s.order,status:e.status}:void 0}:s))}),e.on("tableUpdate",e=>{u(s=>s.map(s=>s.number===e.number?e:s))}),()=>e.close()},[]);let v=e=>{a&&x(s=>s.find(s=>s.menuItem.id===e.id)?s.map(s=>s.menuItem.id===e.id?{...s,quantity:s.quantity+1}:s):[...s,{id:Date.now().toString(),menuItem:e,quantity:1}])},y=(e,s)=>{x(a=>a.map(a=>{if(a.id===e){let e=a.quantity+s;return e>0?{...a,quantity:e}:null}return a}).filter(Boolean))},f=()=>d.reduce((e,s)=>e+s.menuItem.price*s.quantity,0),b=e=>{var s;c(e),x((null==(s=e.order)?void 0:s.items)||[])},k=e=>{switch(e){case"free":return"bg-green-100 border-green-300";case"occupied":return"bg-red-100 border-red-300";case"reserved":return"bg-yellow-100 border-yellow-300";default:return"bg-gray-100 border-gray-300"}},T=e=>{switch(e){case"free":return(0,t.jsx)(o.A,{className:"h-3 w-3 text-green-600"});case"occupied":return(0,t.jsx)(m.A,{className:"h-3 w-3 text-red-600"});case"reserved":return(0,t.jsx)(B.A,{className:"h-3 w-3 text-yellow-600"});default:return(0,t.jsx)(q.A,{className:"h-3 w-3 text-gray-600"})}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Serveur"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tablette de prise de commandes"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,t.jsxs)(l.E,{variant:"outline",className:"text-lg px-3 py-1",children:["Table ",a.number]}),(0,t.jsxs)(l.E,{variant:"secondary",children:[f().toFixed(2),"€"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{className:"h-5 w-5"}),"Tables"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:h.map(e=>(0,t.jsxs)(n.$,{variant:(null==a?void 0:a.number)===e.number?"default":"outline",className:"h-16 flex flex-col items-center justify-center relative ".concat(k(e.status)),onClick:()=>b(e),children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:e.number}),(0,t.jsxs)("div",{className:"text-xs",children:[e.capacity,"p"]}),T(e.status),e.order&&(0,t.jsx)(l.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:e.order.items.length})]},e.number))})})]})}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Menu"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)(N.tU,{value:p,onValueChange:g,children:[(0,t.jsx)(N.j7,{className:"grid w-full grid-cols-4",children:Object.entries(j).map(e=>{let[s,a]=e;return(0,t.jsxs)(N.Xi,{value:s,className:"flex items-center gap-1",children:[a.icon,(0,t.jsx)("span",{className:"hidden sm:inline",children:a.name})]},s)})}),Object.entries(j).map(e=>{let[s,r]=e;return(0,t.jsx)(N.av,{value:s,className:"mt-4",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.items.map(e=>(0,t.jsxs)(n.$,{variant:"outline",className:"h-20 flex flex-col items-center justify-center",onClick:()=>v(e),disabled:!a,children:[(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[e.price.toFixed(2),"€"]}),(0,t.jsx)("div",{className:"text-sm text-center",children:e.name}),e.preparationTime&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.preparationTime,"min"]})]},e.id))})},s)})]})})]}),a&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Commande Table ",a.number]}),(0,t.jsxs)(n.$,{onClick:()=>{if(!a||0===d.length)return;let s={tableNumber:a.number,items:d,status:"sent",timestamp:new Date,totalAmount:f()};u(e=>e.map(e=>e.number===a.number?{...e,status:"occupied",order:s}:e)),null==e||e.emit("newOrder",{...s,tableInfo:a}),null==e||e.emit("orderCreated",s),x([])},disabled:0===d.length,className:"flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"h-4 w-4"}),"Envoyer en cuisine"]})]})}),(0,t.jsxs)(i.Wu,{children:[0===d.length?(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucun article command\xe9"}):(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.menuItem.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.menuItem.price.toFixed(2),"€"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>y(e.id,-1),children:(0,t.jsx)(A.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-sm font-medium w-8 text-center",children:e.quantity}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>y(e.id,1),children:(0,t.jsx)(C.A,{className:"h-3 w-3"})})]})]},e.id))}),d.length>0&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total:"}),(0,t.jsxs)("span",{className:"text-xl font-bold",children:[f().toFixed(2),"€"]})]})})]})]})]})]})]})}var W=a(4992),$=a(6561),U=a(5607);function F(){let[e,s]=(0,r.useState)(null),[a,c]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[h,u]=(0,r.useState)("orders");(0,r.useEffect)(()=>{c([{id:"1",tableNumber:"T3",items:[{id:"1",name:"Steak frites",quantity:2,status:"pending",preparationTime:20},{id:"2",name:"P\xe2tes carbonara",quantity:1,status:"pending",preparationTime:15}],status:"pending",timestamp:new Date(Date.now()-6e5),priority:"normal"},{id:"2",tableNumber:"T5",items:[{id:"3",name:"Pizza margherita",quantity:1,status:"preparing",preparationTime:12}],status:"preparing",timestamp:new Date(Date.now()-3e5),priority:"urgent"}]),m([{id:"1",type:"temperature",item:"Frigo 1",value:4,unit:"\xb0C",threshold:{min:0,max:8},status:"ok",timestamp:new Date(Date.now()-18e5),recordedBy:"Chef Pierre"},{id:"2",type:"temperature",item:"Chambre froide",value:2,unit:"\xb0C",threshold:{min:0,max:4},status:"ok",timestamp:new Date(Date.now()-27e5),recordedBy:"Chef Pierre"}]);let e=(0,M.io)("http://localhost:3001");return s(e),e.on("newOrder",e=>{c(s=>[e,...s])}),e.on("orderUpdate",e=>{c(s=>s.map(s=>s.id===e.orderId?{...s,status:e.status}:s))}),()=>e.close()},[]);let g=(s,a)=>{c(e=>e.map(e=>e.id===s?{...e,status:a}:e)),null==e||e.emit("orderStatusUpdate",{orderId:s,status:a})},j=(s,a,t)=>{c(e=>e.map(e=>{if(e.id===s){let s=e.items.map(e=>e.id===a?{...e,status:t}:e),r=s.every(e=>"ready"===e.status),i=s.some(e=>"preparing"===e.status),n=e.status;return r&&"ready"!==e.status?n="ready":i&&"pending"===e.status&&(n="preparing"),{...e,items:s,status:n}}return e})),null==e||e.emit("itemStatusUpdate",{orderId:s,itemId:a,status:t})},v=(e,s)=>{j(e,s,"preparing")},y=(e,s)=>{j(e,s,"ready")},f=s=>{g(s,"ready");let t=a.find(e=>e.id===s);t&&(null==e||e.emit("orderReady",{orderId:s,tableNumber:t.tableNumber}))},b=e=>{let s={id:Date.now().toString(),type:e,item:"temperature"===e?"Frigo 1":"cleaning"===e?"Plan de travail":"Livraison",value:"temperature"===e?4:1,unit:"temperature"===e?"\xb0C":"",threshold:"temperature"===e?{min:0,max:8}:{min:0,max:2},status:"ok",timestamp:new Date,recordedBy:"Chef Pierre"};m(e=>[s,...e.slice(0,9)])},k=e=>{switch(e){case"pending":return"bg-yellow-100 border-yellow-300";case"preparing":return"bg-blue-100 border-blue-300";case"ready":return"bg-green-100 border-green-300";default:return"bg-gray-100 border-gray-300"}},A=e=>{switch(e){case"pending":return(0,t.jsx)(B.A,{className:"h-4 w-4 text-yellow-600"});case"preparing":return(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-600"});case"ready":return(0,t.jsx)(o.A,{className:"h-4 w-4 text-green-600"});case"served":return(0,t.jsx)(o.A,{className:"h-4 w-4 text-gray-600"});default:return(0,t.jsx)(p.A,{className:"h-4 w-4 text-gray-600"})}},C=e=>"urgent"===e?"bg-red-500":"bg-blue-500",T=e=>{let s=Math.floor((Date.now()-e.getTime())/6e4);return"".concat(s,"min")},Z=a.filter(e=>"pending"===e.status),E=a.filter(e=>"preparing"===e.status),S=a.filter(e=>"ready"===e.status);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Cuisine"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tablette de pr\xe9paration"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.E,{variant:"destructive",className:"text-lg px-3 py-1",children:[Z.length," En attente"]}),(0,t.jsxs)(l.E,{variant:"default",className:"text-lg px-3 py-1",children:[E.length," En pr\xe9paration"]}),(0,t.jsxs)(l.E,{variant:"secondary",className:"text-lg px-3 py-1",children:[S.length," Pr\xeates"]})]})]})}),(0,t.jsxs)(N.tU,{value:h,onValueChange:e=>u(e),children:[(0,t.jsxs)(N.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(N.Xi,{value:"orders",className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Commandes"]}),(0,t.jsxs)(N.Xi,{value:"haccp",className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-4 w-4"}),"HACCP"]})]}),(0,t.jsxs)(N.av,{value:"orders",className:"space-y-4",children:[Z.length>0&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-yellow-600",children:[(0,t.jsx)(B.A,{className:"h-5 w-5"}),"Commandes en attente (",Z.length,")"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:Z.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 ".concat(k(e.status)),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-bold text-lg",children:["Table ",e.tableNumber]}),(0,t.jsx)(l.E,{className:C(e.priority),children:"urgent"===e.priority?"Urgent":"Normal"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:T(e.timestamp)})]}),A(e.status)]}),(0,t.jsx)("div",{className:"space-y-2",children:e.items.map(s=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"font-medium",children:s.name}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["x",s.quantity]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,t.jsx)($.A,{className:"h-3 w-3 inline mr-1"}),s.preparationTime,"min"]})]}),(0,t.jsxs)(n.$,{size:"sm",onClick:()=>v(e.id,s.id),className:"flex items-center gap-1",children:[(0,t.jsx)(x.A,{className:"h-3 w-3"}),"Commencer"]})]},s.id))})]},e.id))})})]}),E.length>0&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-blue-600",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"En pr\xe9paration (",E.length,")"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:E.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 ".concat(k(e.status)),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-bold text-lg",children:["Table ",e.tableNumber]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:T(e.timestamp)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[A(e.status),(0,t.jsx)(n.$,{size:"sm",onClick:()=>f(e.id),disabled:!e.items.every(e=>"ready"===e.status),children:"Marquer pr\xeate"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.items.map(s=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"font-medium",children:s.name}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["x",s.quantity]}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(l.E,{variant:"ready"===s.status?"default":"secondary",children:"ready"===s.status?"Pr\xeat":"En pr\xe9paration"})})]}),"preparing"===s.status&&(0,t.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>y(e.id,s.id),children:[(0,t.jsx)(o.A,{className:"h-3 w-3 mr-1"}),"Pr\xeat"]})]},s.id))})]},e.id))})})]}),S.length>0&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-green-600",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Pr\xeates \xe0 servir (",S.length,")"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 ".concat(k(e.status)),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-bold text-lg",children:["Table ",e.tableNumber]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:T(e.timestamp)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[A(e.status),(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>g(e.id,"served"),children:"Servi"})]})]}),(0,t.jsx)("div",{className:"mt-2",children:e.items.map(e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.name," x",e.quantity]},e.id))})]},e.id))})})]}),0===a.length&&(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"text-center py-8",children:[(0,t.jsx)(w.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Aucune commande en cours"})]})})]}),(0,t.jsxs)(N.av,{value:"haccp",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-5 w-5"}),"Contr\xf4les temp\xe9rature"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[d.filter(e=>"temperature"===e.type).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.item}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.value,e.unit," (max: ",e.threshold.max,e.unit,")"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[e.timestamp.toLocaleTimeString()," - ",e.recordedBy]})]}),(0,t.jsx)(l.E,{variant:"ok"===e.status?"default":"destructive",children:"ok"===e.status?"OK":"Alerte"})]},e.id)),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>b("temperature"),children:[(0,t.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Nouveau contr\xf4le temp\xe9rature"]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"h-5 w-5"}),"Contr\xf4les nettoyage"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,t.jsx)("div",{className:"font-medium",children:"Plan de travail"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Nettoy\xe9 il y a 2h"}),(0,t.jsx)(l.E,{variant:"default",children:"OK"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,t.jsx)("div",{className:"font-medium",children:"Sol cuisine"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Nettoy\xe9 il y a 4h"}),(0,t.jsx)(l.E,{variant:"secondary",children:"\xc0 v\xe9rifier"})]}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>b("cleaning"),children:[(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Nouveau contr\xf4le nettoyage"]})]})})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(p.A,{className:"h-5 w-5"}),"Alertes HACCP"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-red-800",children:"Frigo 2 - Temp\xe9rature \xe9lev\xe9e"}),(0,t.jsx)("div",{className:"text-sm text-red-600",children:"9\xb0C (max: 8\xb0C)"})]}),(0,t.jsx)(l.E,{variant:"destructive",children:"Critique"})]})})})]})]})]})]})}function V(){let[e,s]=(0,r.useState)(null),[a,h]=(0,r.useState)([{name:"admin",title:"G\xe9rant / Admin",icon:(0,t.jsx)(c.A,{className:"h-8 w-8"}),description:"Tableau de bord du g\xe9rant, statistiques et gestion avanc\xe9e",color:"bg-purple-600",status:"online",lastUpdate:new Date,component:y},{name:"caisse",title:"Caisse & Bar",icon:(0,t.jsx)(d.A,{className:"h-8 w-8"}),description:"Paiements rapides et gestion du bar",color:"bg-green-500",status:"online",lastUpdate:new Date,component:E},{name:"serveur",title:"Serveur",icon:(0,t.jsx)(m.A,{className:"h-8 w-8"}),description:"Prise de commandes et gestion des tables",color:"bg-blue-500",status:"online",lastUpdate:new Date,component:R},{name:"cuisine",title:"Cuisine",icon:(0,t.jsx)(x.A,{className:"h-8 w-8"}),description:"Pr\xe9paration des commandes et contr\xf4les HACCP",color:"bg-orange-500",status:"online",lastUpdate:new Date,component:F}]);(0,r.useEffect)(()=>{let e=setInterval(()=>{h(e=>e.map(e=>({...e,lastUpdate:new Date,status:Math.random()>.1?"online":"warning"})))},3e4);return()=>clearInterval(e)},[]);let N=e=>{switch(e){case"online":return(0,t.jsx)(o.A,{className:"h-4 w-4 text-green-500"});case"offline":return(0,t.jsx)(u,{className:"h-4 w-4 text-red-500"});case"warning":return(0,t.jsx)(p.A,{className:"h-4 w-4 text-yellow-500"});default:return(0,t.jsx)(g,{className:"h-4 w-4 text-gray-500"})}},f=e=>{switch(e){case"online":return(0,t.jsx)(l.E,{variant:"default",className:"bg-green-500",children:"En ligne"});case"offline":return(0,t.jsx)(l.E,{variant:"destructive",children:"Hors ligne"});case"warning":return(0,t.jsx)(l.E,{variant:"secondary",className:"bg-yellow-500",children:"Attention"});default:return(0,t.jsx)(l.E,{variant:"outline",children:"Inconnu"})}};if(e){let r=a.find(s=>s.name===e);if(r){let e=r.component;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>s(null),className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Retour aux applications"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[r.icon,(0,t.jsx)("h1",{className:"text-xl font-bold",children:r.title})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[N(r.status),f(r.status)]})]})})}),(0,t.jsx)(e,{})]})}}return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Restaurant Management System"}),(0,t.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"4 Applications Tablettes Coordonn\xe9es"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Communication temps r\xe9el entre toutes les tablettes"})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:a.map(e=>(0,t.jsxs)(i.Zp,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer border-2 hover:border-blue-300",onClick:()=>s(e.name),children:[(0,t.jsx)(i.aR,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg text-white ".concat(e.color),children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{className:"text-xl",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[N(e.status),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Derni\xe8re mise \xe0 jour: ",e.lastUpdate.toLocaleTimeString()]})]})]})]}),f(e.status)]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(n.$,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),"Ouvrir l'application"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(g,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-sm text-green-600",children:"Connect\xe9"})]})]})]})]},e.name))}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-5 w-5"}),"Informations Syst\xe8me"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"4"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Applications actives"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"Temps R\xe9el"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Communication active"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"100%"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Op\xe9rationnel"})]})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Flux de communication:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,t.jsx)("span",{children:"Admin → Tous"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:"Serveur → Cuisine"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,t.jsx)("span",{children:"Cuisine → Serveur"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Caisse → Admin"})]})]})]})]})]})]})]})}},9434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(2596),r=a(9688);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[3455,9572,9890,4904,8441,1684,7358],()=>s(5572)),_N_E=e.O()}]);