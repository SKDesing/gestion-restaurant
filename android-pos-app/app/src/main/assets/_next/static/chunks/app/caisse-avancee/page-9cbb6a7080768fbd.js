(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4777],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>c});var t=s(5155);s(2115);var r=s(9708),i=s(2085),n=s(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:a,variant:s,size:i,asChild:c=!1,...d}=e,o=c?r.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:a})),...d})}},1251:(e,a,s)=>{Promise.resolve().then(s.bind(s,7928))},1304:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},1586:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(5155);s(2115);var r=s(9434);function i(e){let{className:a,type:s,...i}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...i})}},4616:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5868:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6126:(e,a,s)=>{"use strict";s.d(a,{E:()=>c});var t=s(5155);s(2115);var r=s(9708),i=s(2085),n=s(9434);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:s,asChild:i=!1,...c}=e,d=i?r.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:s}),a),...c})}},6308:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},6561:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},6695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>n});var t=s(5155);s(2115);var r=s(9434);function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}},7108:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7313:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>c,av:()=>d,j7:()=>l,tU:()=>n});var t=s(5155);s(2115);var r=s(64),i=s(9434);function n(e){let{className:a,...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",a),...s})}function l(e){let{className:a,...s}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",a),...s})}},7712:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7809:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7928:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>B});var t=s(5155),r=s(2115),i=s(6695),n=s(285),l=s(6126),c=s(2523),d=s(8539),o=s(9100),m=s(7313),u=s(9409),x=s(3655),p=r.forwardRef((e,a)=>(0,t.jsx)(x.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));p.displayName="Label";var h=s(9434);function v(e){let{className:a,...s}=e;return(0,t.jsx)(p,{"data-slot":"label",className:(0,h.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}var g=s(4186),j=s(646),f=s(744),b=s(7108),y=s(7312),N=s(3109),w=s(7809),k=s(5868),A=s(1586),T=s(9946);let C=(0,T.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),P=(0,T.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var S=s(9420),z=s(6561),q=s(1304),E=s(6308),M=s(7712),F=s(4616),R=s(2525);function B(){let[e,a]=(0,r.useState)("ventes"),[s,x]=(0,r.useState)([]),[p,h]=(0,r.useState)([]),[T,B]=(0,r.useState)("sur_place"),[Z,_]=(0,r.useState)({name:"",phone:"",notes:"",pickupTime:"",estimatedTime:20}),[D,V]=(0,r.useState)(""),[O,I]=(0,r.useState)({totalSales:2847.5,totalOrders:156,cashSales:1247.5,cardSales:1600,averageOrder:18.25,takeoutOrders:45}),[W]=(0,r.useState)([{id:"cafe1",name:"Caf\xe9 Expresso",price:2.5,category:"Boissons Chaudes",preparationTime:2,available:!0},{id:"cafe2",name:"Caf\xe9 Cr\xe8me",price:3,category:"Boissons Chaudes",preparationTime:3,available:!0},{id:"the1",name:"Th\xe9 Nature",price:2.5,category:"Boissons Chaudes",preparationTime:3,available:!0},{id:"choco1",name:"Chocolat Chaud",price:3.5,category:"Boissons Chaudes",preparationTime:4,available:!0},{id:"coca1",name:"Coca-Cola",price:3,category:"Boissons Froides",preparationTime:1,available:!0},{id:"eau1",name:"Eau Min\xe9rale",price:2,category:"Boissons Froides",preparationTime:1,available:!0},{id:"jus1",name:"Jus d'Orange",price:4,category:"Boissons Froides",preparationTime:2,available:!0},{id:"smoothie1",name:"Smoothie",price:5.5,category:"Boissons Froides",preparationTime:5,available:!0},{id:"vin1",name:"Vin Rouge (verre)",price:6,category:"Vins & Alcools",preparationTime:2,available:!0},{id:"vin2",name:"Vin Blanc (verre)",price:6,category:"Vins & Alcools",preparationTime:2,available:!0},{id:"biere1",name:"Bi\xe8re Pression",price:4.5,category:"Vins & Alcools",preparationTime:3,available:!0},{id:"cocktail1",name:"Cocktail Maison",price:8,category:"Vins & Alcools",preparationTime:8,available:!0},{id:"burger1",name:"Burger Classic",price:12,category:"Plats",preparationTime:15,available:!0},{id:"burger2",name:"Burger Veggie",price:11,category:"Plats",preparationTime:15,available:!0},{id:"sandwich1",name:"Sandwich Poulet",price:8.5,category:"Plats",preparationTime:10,available:!0},{id:"sandwich2",name:"Croque-monsieur",price:7.5,category:"Plats",preparationTime:8,available:!0},{id:"salade1",name:"Salade C\xe9sar",price:9,category:"Plats",preparationTime:5,available:!0},{id:"salade2",name:"Salade Compl\xe8te",price:10.5,category:"Plats",preparationTime:7,available:!0},{id:"frites1",name:"Frites",price:4,category:"Accompagnements",preparationTime:8,available:!0},{id:"nuggets1",name:"Nuggets Poulet",price:6.5,category:"Accompagnements",preparationTime:12,available:!0},{id:"croissant1",name:"Croissant",price:2,category:"P\xe2tisseries",preparationTime:1,available:!0},{id:"pain1",name:"Pain au Chocolat",price:2.5,category:"P\xe2tisseries",preparationTime:1,available:!0},{id:"gateau1",name:"Part de G\xe2teau",price:4.5,category:"P\xe2tisseries",preparationTime:2,available:!0}]),[H]=(0,r.useState)([{id:"1",orderNumber:"EM-001",customerName:"Marie Dubois",customerPhone:"0612345678",items:[{id:"burger1",name:"Burger Classic",price:12,quantity:2,category:"Plats"},{id:"frites1",name:"Frites",price:4,quantity:2,category:"Accompagnements"}],total:32,status:"PREPARING",estimatedTime:20,pickupTime:"2024-01-15T13:00:00Z",createdAt:"2024-01-15T12:40:00Z"},{id:"2",orderNumber:"EM-002",customerName:"Jean Martin",customerPhone:"0623456789",items:[{id:"sandwich1",name:"Sandwich Poulet",price:8.5,quantity:1,category:"Plats"},{id:"cafe1",name:"Caf\xe9 Expresso",price:2.5,quantity:1,category:"Boissons Chaudes"}],total:11,status:"READY",estimatedTime:10,pickupTime:"2024-01-15T12:50:00Z",createdAt:"2024-01-15T12:30:00Z"}]);(0,r.useEffect)(()=>{h(H)},[H]);let L=Array.from(new Set(W.map(e=>e.category))),$=W.filter(e=>e.available&&e.name.toLowerCase().includes(D.toLowerCase())),G=e=>{x(a=>a.find(a=>a.id===e.id)?a.map(a=>a.id===e.id?{...a,quantity:a.quantity+1}:a):[...a,{...e,quantity:1}])},X=e=>{x(a=>a.filter(a=>a.id!==e))},Y=(e,a)=>{x(s=>s.map(s=>{if(s.id===e){let e=s.quantity+a;return e>0?{...s,quantity:e}:s}return s}).filter(e=>e.quantity>0))},U=()=>s.reduce((e,a)=>e+a.price*a.quantity,0),J=()=>0===s.length?0:Math.max(...s.map(e=>{let a=W.find(a=>a.id===e.id);return(null==a?void 0:a.preparationTime)||5}))+5,Q=async()=>{if(0===s.length||!Z.name)return void alert("Veuillez remplir les informations du client et ajouter des articles");let e={customerName:Z.name,customerPhone:Z.phone,items:s.map(e=>({menuItemId:e.id,quantity:e.quantity,unitPrice:e.price,notes:e.notes})),notes:Z.notes,estimatedTime:J(),pickupTime:Z.pickupTime||new Date(Date.now()+6e4*J()).toISOString()};try{let a=await fetch("/api/orders/takeout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();if(t.success){let e={id:t.order.id,orderNumber:t.order.orderNumber,customerName:t.order.customerName,customerPhone:Z.phone,items:s,total:t.order.total,status:"PENDING",estimatedTime:t.order.estimatedTime,pickupTime:t.order.pickupTime,notes:Z.notes,createdAt:new Date().toISOString()};h(a=>[e,...a]),x([]),_({name:"",phone:"",notes:"",pickupTime:"",estimatedTime:20}),alert("Commande ".concat(t.order.orderNumber," cr\xe9\xe9e avec succ\xe8s!"))}else alert("Erreur lors de la cr\xe9ation de la commande")}catch(e){console.error("Erreur:",e),alert("Erreur lors de la cr\xe9ation de la commande")}},K=e=>{if(0!==s.length)if("emporter"===T)Q();else{let a=U();I(s=>({...s,totalSales:s.totalSales+a,totalOrders:s.totalOrders+1,["CASH"===e?"cashSales":"cardSales"]:s["CASH"===e?"cashSales":"cardSales"]+a})),x([]),alert("Paiement de €".concat(a.toFixed(2)," par ").concat(e," trait\xe9 avec succ\xe8s!"))}},ee=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-blue-100 text-blue-800";case"PREPARING":return"bg-orange-100 text-orange-800";case"READY":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ea=e=>{switch(e){case"PENDING":default:return(0,t.jsx)(g.A,{className:"h-4 w-4"});case"CONFIRMED":case"COMPLETED":return(0,t.jsx)(j.A,{className:"h-4 w-4"});case"PREPARING":return(0,t.jsx)(f.A,{className:"h-4 w-4"});case"READY":return(0,t.jsx)(b.A,{className:"h-4 w-4"})}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)(y.A,{className:"h-7 w-7 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Caisse Centrale Avanc\xe9e"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Ventes, commandes \xe0 emporter et gestion"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v,{children:"Type de commande:"}),(0,t.jsxs)(u.l6,{value:T,onValueChange:e=>B(e),children:[(0,t.jsx)(u.bq,{className:"w-32",children:(0,t.jsx)(u.yv,{})}),(0,t.jsxs)(u.gC,{children:[(0,t.jsx)(u.eb,{value:"sur_place",children:"Sur place"}),(0,t.jsx)(u.eb,{value:"emporter",children:"\xc0 emporter"})]})]})]}),(0,t.jsxs)(l.E,{variant:"outline",className:"text-green-600",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Ouvert"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4",children:[(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Ventes du jour"}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:["€",O.totalSales.toFixed(2)]})]}),(0,t.jsx)(N.A,{className:"h-6 w-6 text-green-600"})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Commandes"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:O.totalOrders})]}),(0,t.jsx)(w.A,{className:"h-6 w-6 text-blue-600"})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Esp\xe8ces"}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:["€",O.cashSales.toFixed(2)]})]}),(0,t.jsx)(k.A,{className:"h-6 w-6 text-green-600"})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Carte"}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:["€",O.cardSales.toFixed(2)]})]}),(0,t.jsx)(A.A,{className:"h-6 w-6 text-blue-600"})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Moyenne"}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:["€",O.averageOrder.toFixed(2)]})]}),(0,t.jsx)(k.A,{className:"h-6 w-6 text-purple-600"})]})})}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"\xc0 emporter"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:O.takeoutOrders})]}),(0,t.jsx)(b.A,{className:"h-6 w-6 text-orange-600"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(m.tU,{value:e,onValueChange:a,className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(m.Xi,{value:"ventes",children:"Ventes"}),(0,t.jsx)(m.Xi,{value:"emporter",children:"\xc0 emporter"}),(0,t.jsx)(m.Xi,{value:"historique",children:"Historique"})]}),(0,t.jsxs)(m.av,{value:"ventes",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{placeholder:"Rechercher un article...",value:D,onChange:e=>V(e.target.value),className:"pl-10"})]}),(0,t.jsx)("div",{className:"space-y-4",children:L.map(e=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-lg",children:e})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:$.filter(a=>a.category===e).map(e=>(0,t.jsxs)(n.$,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-2",onClick:()=>G(e),children:[(0,t.jsx)("span",{className:"font-medium text-sm text-center",children:e.name}),(0,t.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["€",e.price.toFixed(2)]}),e.preparationTime&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.preparationTime," min"]})]},e.id))})})]},e))})]}),(0,t.jsx)(m.av,{value:"emporter",className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-5 w-5"}),"Commandes \xe0 emporter en cours"]}),(0,t.jsx)(i.BT,{children:"Suivi des commandes \xe0 emporter"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.orderNumber}),(0,t.jsxs)(l.E,{className:ee(e.status),children:[ea(e.status),(0,t.jsx)("span",{className:"ml-1",children:e.status})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-3 w-3"}),e.customerName]}),e.customerPhone&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"h-3 w-3"}),e.customerPhone]}),e.pickupTime&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-3 w-3"}),"Retrait: ",new Date(e.pickupTime).toLocaleTimeString()]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold",children:["€",e.total.toFixed(2)]}),e.estimatedTime&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,t.jsx)(z.A,{className:"h-3 w-3 inline mr-1"}),e.estimatedTime," min"]})]})]}),(0,t.jsx)("div",{className:"space-y-1 mb-3",children:e.items.map((e,a)=>(0,t.jsxs)("div",{className:"text-sm flex justify-between",children:[(0,t.jsxs)("span",{children:[e.quantity,"x ",e.name]}),(0,t.jsxs)("span",{children:["€",(e.price*e.quantity).toFixed(2)]})]},a))}),"READY"===e.status&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-2 mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Commande pr\xeate \xe0 retirer!"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.$,{size:"sm",variant:"outline",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-1"}),"Ticket"]}),"READY"===e.status&&(0,t.jsxs)(n.$,{size:"sm",children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"Notifier"]})]})]},e.id))})})]})}),(0,t.jsx)(m.av,{value:"historique",className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Historique des ventes"}),(0,t.jsx)(i.BT,{children:"Derni\xe8res transactions"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(E.A,{className:"h-12 w-12 mx-auto mb-2"}),(0,t.jsx)("p",{children:"L'historique d\xe9taill\xe9 sera bient\xf4t disponible"})]})})]})})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:["emporter"===T&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-5 w-5"}),"Informations Client"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{htmlFor:"customerName",children:"Nom du client *"}),(0,t.jsx)(c.p,{id:"customerName",placeholder:"Nom complet",value:Z.name,onChange:e=>_(a=>({...a,name:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{htmlFor:"customerPhone",children:"T\xe9l\xe9phone"}),(0,t.jsx)(c.p,{id:"customerPhone",placeholder:"Num\xe9ro de t\xe9l\xe9phone",value:Z.phone,onChange:e=>_(a=>({...a,phone:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{htmlFor:"pickupTime",children:"Heure de retrait souhait\xe9e"}),(0,t.jsx)(c.p,{id:"pickupTime",type:"datetime-local",value:Z.pickupTime,onChange:e=>_(a=>({...a,pickupTime:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{htmlFor:"notes",children:"Notes"}),(0,t.jsx)(d.T,{id:"notes",placeholder:"Instructions sp\xe9ciales...",value:Z.notes,onChange:e=>_(a=>({...a,notes:e.target.value}))})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Panier",s.length>0&&(0,t.jsxs)(l.E,{variant:"secondary",children:[s.reduce((e,a)=>e+a.quantity,0)," articles"]})]})}),(0,t.jsx)(i.Wu,{children:0===s.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(w.A,{className:"h-12 w-12 mx-auto mb-2"}),(0,t.jsx)("p",{children:"Panier vide"}),(0,t.jsx)("p",{className:"text-sm",children:"Ajoutez des articles pour commencer"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["€",e.price.toFixed(2)," \xd7 ",e.quantity]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>Y(e.id,-1),children:(0,t.jsx)(M.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"w-8 text-center text-sm",children:e.quantity}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>Y(e.id,1),children:(0,t.jsx)(F.A,{className:"h-3 w-3"})}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>X(e.id),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]})]},e.id))}),(0,t.jsx)(o.w,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Sous-total:"}),(0,t.jsxs)("span",{children:["€",U().toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"TVA (10%):"}),(0,t.jsxs)("span",{children:["€",(.1*U()).toFixed(2)]})]}),(0,t.jsx)(o.w,{}),(0,t.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{children:["€",(1.1*U()).toFixed(2)]})]})]}),"emporter"===T&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[(0,t.jsx)(z.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Temps de pr\xe9paration estim\xe9: ",J()," minutes"]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(n.$,{className:"w-full",onClick:()=>K("CASH"),disabled:0===s.length||"emporter"===T&&!Z.name,children:[(0,t.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"emporter"===T?"Cr\xe9er la commande":"Payer en esp\xe8ces"]}),(0,t.jsxs)(n.$,{className:"w-full",variant:"outline",onClick:()=>K("CARD"),disabled:0===s.length||"emporter"===T&&!Z.name,children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"emporter"===T?"Cr\xe9er la commande":"Payer par carte"]})]})]})})]})]})]})]})})}},8539:(e,a,s)=>{"use strict";s.d(a,{T:()=>i});var t=s(5155);s(2115);var r=s(9434);function i(e){let{className:a,...s}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...s})}},9100:(e,a,s)=>{"use strict";s.d(a,{w:()=>o});var t=s(5155),r=s(2115),i=s(3655),n="horizontal",l=["horizontal","vertical"],c=r.forwardRef((e,a)=>{var s;let{decorative:r,orientation:c=n,...d}=e,o=(s=c,l.includes(s))?c:n;return(0,t.jsx)(i.sG.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:a})});c.displayName="Separator";var d=s(9434);function o(e){let{className:a,orientation:s="horizontal",decorative:r=!0,...i}=e;return(0,t.jsx)(c,{"data-slot":"separator",decorative:r,orientation:s,className:(0,d.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...i})}},9409:(e,a,s)=>{"use strict";s.d(a,{bq:()=>m,eb:()=>x,gC:()=>u,l6:()=>d,yv:()=>o});var t=s(5155);s(2115);var r=s(1188),i=s(6474),n=s(5196),l=s(7863),c=s(9434);function d(e){let{...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"select",...a})}function o(e){let{...a}=e;return(0,t.jsx)(r.WT,{"data-slot":"select-value",...a})}function m(e){let{className:a,size:s="default",children:n,...l}=e;return(0,t.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...l,children:[n,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:a,children:s,position:i="popper",...n}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,t.jsx)(p,{}),(0,t.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,t.jsx)(h,{})]})})}function x(e){let{className:a,children:s,...i}=e;return(0,t.jsxs)(r.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...i,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(n.A,{className:"size-4"})})}),(0,t.jsx)(r.p4,{children:s})]})}function p(e){let{className:a,...s}=e;return(0,t.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(l.A,{className:"size-4"})})}function h(e){let{className:a,...s}=e;return(0,t.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(i.A,{className:"size-4"})})}},9420:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(2596),r=s(9688);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[3455,9572,9890,640,8441,1684,7358],()=>a(1251)),_N_E=e.O()}]);